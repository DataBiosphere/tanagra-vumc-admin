// OpenAPI/Swagger Server Generation
swaggerSources {
  server {
    inputFile = file('../service/src/main/resources/api/service_openapi.yaml')
    code {
      jvmArgs = ['--add-opens=java.base/java.util=ALL-UNNAMED'] // for Java 16+
      language = "spring"
      library = "spring-boot"
      outputDir = file(openapiOutputDir)
      components = ["models", "apis"]
      rawOptions = [
              "--api-package", "${artifactGroup}.generated.controller",
              "--model-package", "${artifactGroup}.generated.model",
              "--model-name-prefix", "Api",
              "--additional-properties", "errorOnUnknownEnum=true",
              "-D", "interfaceOnly=true," +
                      "useTags=true," +
                      "dateLibrary=java8"
      ]
    }
  }
}

sourceSets.main.java.srcDir "${openapiOutputDir}/src/main/java"
